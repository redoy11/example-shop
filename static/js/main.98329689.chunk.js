(this["webpackJsonpexample-shop"]=this["webpackJsonpexample-shop"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=a(23),i=a(37),u=a(41),m=a.n(u),s=a(164),d=a(163),E=a(52),p=a(42),f=a(165),h=a(87),b=a(59),v=a(86),y=a(31),S=a.n(y),C="shop/reducer/shop/SET_SHOP_ITEMS",O="shop/reducer/shop/ADD_TO_CART",g=function(){return{type:"shop/reducer/shop/SET_FETCH_ITEMS"}},j=function(e,t){return{productId:e,quantity:t,type:O}},_=m()({shopItems:[],cart:{}});function I(e){return e.shop.shopItems}function T(e,t){return e.shop.cart[t]||0}function N(e){return e.shop.cart}var w={shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return m()(Object(p.a)({},e,{shopItems:t.items}));case O:return m()(Object(p.a)({},e,{cart:Object(p.a)({},e.cart,Object(E.a)({},t.productId,t.quantity))}));default:return e}}},k=Object(i.c)(w),A=Object(s.a)((function(e){return e.pipe(Object(v.a)("shop/reducer/shop/SET_FETCH_ITEMS"),Object(h.a)((function(){return f.a.getJSON("https://gist.githubusercontent.com/naieem/c138ff1f12847b2a1b8ad85866426d3d/raw/037825eee126d589ab3e1fff6c3d0119f33f3b5b/Products").pipe(Object(b.a)((function(e){return{items:e,type:C}})))})))})),x=Object(d.a)(),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,H=Object(i.e)(k,m()({}),B(Object(i.a)(x)));x.run(A);var P=H,M=(a(104),a(105),a(39)),D=a(13),F=a(75),q=a(67),J=a(162),R=a(161),$=a(145),z=a(149),W=a(150),X=a(151),L=a(152),U=a(153),V=(a(106),{addToCartActionCreator:j}),G=Object(l.b)((function(e,t){return{cartCount:T(e,t._id)}}),V)((function(e){var t=e._id,a=e.title,n=e.price,c=e.picture,o=e.addToCartActionCreator,l=e.cartCount,i=e.stock;return r.a.createElement($.a,{className:"ShelveItem-card"},r.a.createElement(M.b,{to:"/product/".concat(t)},r.a.createElement(z.a,null,r.a.createElement(W.a,{className:"ShelveItem-media",image:c,title:"Contemplative Reptile"}),r.a.createElement(X.a,{className:"ShelveItem-content"},r.a.createElement(q.a,{gutterBottom:!0,variant:"body1",component:"p"},a),r.a.createElement(q.a,{variant:"body2",color:"textSecondary",component:"p"},n)))),r.a.createElement(L.a,null,r.a.createElement(U.a,{onClick:function(){o(t,l+1)},disabled:l===i,size:"small",color:"primary"},"Add to cart"),l===i&&r.a.createElement(q.a,{style:{color:"red"},variant:"body2",color:"textSecondary",component:"p"},"Out of Stock")))})),K=(a(108),a(109),a(110),a(159)),Q=a(160),Y=a(116),Z=a(155),ee=a(154),te=a(166),ae=a(156),ne=a(157),re=a(158),ce=function(e){var t=e._id,a=e.title,n=e.price,c=e.count,o=e.addToCartHandler,l=e.picture;return r.a.createElement(Y.a,null,r.a.createElement(ee.a,null,r.a.createElement(te.a,{variant:"square",alt:"",src:l})),r.a.createElement(Z.a,{primary:a,secondary:"".concat(c," x Tk ").concat(n)}),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{edge:"start","aria-label":"delete",onClick:function(){o(t,0)}},r.a.createElement(re.a,null,"clear"))))},oe={addToCartActionCreator:j},le=Object(l.b)((function(e){return{items:I(e),cartObject:N(e)}}),oe)((function(e){var t=e.cartObject,a=e.items,n=e.addToCartActionCreator,c=S.a.keys(t),o=0,l=c.map((function(e){return Object(p.a)({},S.a.find(a,{_id:e})||{},{count:t[e],addToCartHandler:n})})).filter((function(e){return 0!==e.count}));return l.forEach((function(e){return o+=e.count*e.price})),r.a.createElement("div",{className:"Cart-container"},r.a.createElement(q.a,{variant:"body2"}," Cart "),l.length>0&&r.a.createElement(K.a,{className:"list-container"},l.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(ce,e))})),r.a.createElement(Q.a,null),r.a.createElement(Y.a,null,r.a.createElement(Z.a,{primary:"Subtotal $ "+o,secondary:""}))),l.length<=0&&r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(Z.a,{primary:"No items to display",secondary:""}))))}));var ie=function(e){return function(t){return r.a.createElement("div",{className:"withCart-container"},r.a.createElement("div",{className:"withCart-main-content"},r.a.createElement(e,t)),r.a.createElement("div",{className:"withCart-content"},r.a.createElement(le,null)))}},ue=(a(111),a(112),function(){return r.a.createElement("div",{className:"Header-container"},r.a.createElement(q.a,{variant:"h5"},"Shop"))});var me=function(e){return function(t){return r.a.createElement("div",{className:"withHeader-container"},r.a.createElement(ue,null),r.a.createElement(e,t))}},se=[{label:"Sort by price high to low",value:"desc"},{label:"Sort by price low to high",value:"asc"}],de={fetchShopItemsActionCreator:g},Ee=ie(me(Object(l.b)((function(e){return{items:I(e)}}),de)((function(e){var t=e.items,a=e.fetchShopItemsActionCreator,n=r.a.useState([]),c=Object(F.a)(n,2),o=c[0],l=c[1],i=r.a.useState(!1),u=Object(F.a)(i,2),m=u[0],s=u[1];r.a.useEffect((function(){a()}),[]),r.a.useEffect((function(){l(m?S.a.orderBy(t,["price"],["asc"]):S.a.orderBy(t,["price"],["desc"]))}),[t,m]);return r.a.createElement("div",{className:"Shelve-container"},r.a.createElement("div",{className:"Shelve-header"},r.a.createElement(q.a,{variant:"body2"},"Showing ",o.length," out of ",o.length," items"),r.a.createElement(J.a,{select:!0,label:"",value:m?"asc":"desc",onChange:function(e){return s("asc"===e.target.value)}},se.map((function(e){return r.a.createElement(R.a,{key:e.value,value:e.value},e.label)})))),r.a.createElement("div",{className:"Shelve-body"},o.map((function(e){return r.a.createElement(G,Object.assign({key:e._id},e))}))))})))),pe=(a(113),{addToCartActionCreator:j,fetchShopItemsActionCreator:g}),fe=Object(l.b)((function(e,t){var a;return{count:(a=t.id,T(e,a)),item:function(t){return function(e,t){return S.a.find(e.shop.shopItems,{_id:t})}(e,t)}(t.id)}}),pe)((function(e){var t=e.count,a=e.item,n=e.fetchShopItemsActionCreator,c=e.addToCartActionCreator;return r.a.useEffect((function(){n()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M.b,{to:"/"},"Back"),a&&r.a.createElement($.a,{className:"ProductItem-card"},r.a.createElement(z.a,null,r.a.createElement(W.a,{className:"ProductItem-media",image:a.picture}),r.a.createElement(X.a,{className:"ProductItem-content"},r.a.createElement(q.a,{gutterBottom:!0,variant:"h5",component:"p"},a.title),r.a.createElement(q.a,{variant:"h6",color:"textSecondary",component:"p"},"$ ",a.price),r.a.createElement(q.a,{variant:"body2",color:"textSecondary",component:"p"},a.description))),r.a.createElement(L.a,null,r.a.createElement(U.a,{onClick:function(){c(a._id,t+1)},disabled:t===a.stock,size:"small",color:"primary"},"Add to cart"),t===a.stock&&r.a.createElement(q.a,{style:{color:"red"},variant:"body2",color:"textSecondary",component:"p"},"Out of Stock"))))})),he=ie(me((function(){var e=Object(D.f)().id;return r.a.createElement(fe,{id:e})}))),be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{basename:"/"},r.a.createElement(D.c,null,r.a.createElement(D.a,{path:"/product/:id"},r.a.createElement(he,null)),r.a.createElement(D.a,{path:"/"},r.a.createElement(Ee,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:P},r.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(114)}},[[94,1,2]]]);
//# sourceMappingURL=main.98329689.chunk.js.map